### **1. 内联函数的作用**  
**核心目标**：**减少函数调用的开销**，提升程序运行效率。  
- **普通函数调用**：每次调用需要压栈、跳转、返回等操作，存在一定性能损耗。  
- **内联函数**：编译器尝试将函数体代码直接“插入”调用位置（类似宏展开），避免调用开销。  

---

### **2. 使用方式**  
- 在函数声明或定义前添加 `inline` 关键字：  
- **在类定义内部实现的成员函数会被编译器隐式地视为内联函数的建议**，而类内定义类外实现的函数不会。
```cpp
inline int add(int a, int b) {
    return a + b;
}
```

---

### **3. 关键特点**  
✅ **优点**：  
- **效率提升**：适合**短小且频繁调用**的函数（如简单数学运算）。  
- **类型安全**：相比宏（`#define`），内联函数支持类型检查，更安全。  

❌ **缺点与限制**：  
- **代码膨胀**：若函数体过大或调用次数过多，会导致可执行文件体积增大，可能降低缓存效率。  
- **编译器自主性**：`inline` 只是建议，**编译器最终决定是否内联**（例如递归函数、虚函数通常不会被内联）。  

---

### **4. 适用场景**  
- **短小函数**：函数体简单（如1-3行代码）。  
- **高频调用**：例如循环内的工具函数。  
- **替代宏**：需要类型安全的场景。  

---

### **5. 示例对比**  
```cpp
// 普通函数调用
int result = add(3, 5); // 需要跳转到函数地址执行

// 内联函数可能的展开方式（由编译器决定）
int result = 3 + 5;     // 直接替换为函数体代码
```

---

### **6. 注意事项**  
- **头文件中定义**：内联函数通常放在头文件，确保多个编译单元看到相同定义。  
- **避免滥用**：复杂函数内联可能适得其反。  
