### `rand()` 和 `srand()` 函数笔记（C/C++）

---

#### **1. `rand()` 函数**
- **功能**：生成伪随机整数。
- **范围**：`0` 到 `RAND_MAX`（通常为 `32767`）。
- **特点**：
  - 基于固定算法生成序列，默认种子为 `1`。
  - **不调用 `srand()` 时，每次程序启动生成的序列相同**。
- **用法**：
  ```c
  int random_num = rand();  // 生成 [0, RAND_MAX] 的随机整数
  ```

---

#### **2. `srand()` 函数**
- **功能**：设置随机数生成器的种子（seed）。
- **作用**：改变 `rand()` 的初始状态，使每次运行产生不同序列。
- **常用种子**：当前时间 `time(0)`（需包含 `<ctime>` 或 `<time.h>`）。
- **用法**：
  ```c
  srand(time(0));  // 用系统时间初始化种子（程序启动时调用一次）
  ```

---

#### **3. 生成指定范围的随机数**
- **公式**：`rand() % (max - min + 1) + min`
- **示例**：
  ```c
  int dice = rand() % 6 + 1;    // 1~6 的骰子
  int percentage = rand() % 100; // 0~99 的百分比
  ```

---

#### **4. 使用步骤**
1. 包含头文件：
   ```c
   #include <cstdlib>  // rand(), srand(), RAND_MAX
   #include <ctime>    // time()
   ```
2. 初始化种子：
   ```c
   srand(time(0));  // 在 main() 开头调用一次
   ```
3. 生成随机数：
   ```c
   int r = rand();  // 使用随机数
   ```

---

#### **5. 示例代码**
```c
#include <iostream>
#include <cstdlib>
#include <ctime>
using namespace std;

int main() {
    srand(time(0));  // 用时间初始化种子

    cout << "3个随机数：" << endl;
    for (int i = 0; i < 3; i++) {
        cout << rand() % 100 << " ";  // 生成 0~99 的随机数
    }
    return 0;
}
```
**输出**（每次运行不同）：
```
3个随机数：
42 15 73
```

---

#### **6. 注意事项**
- **种子只需设置一次**（多次调用 `srand()` 可能导致序列重复）。
- **均匀性缺陷**：`rand() % N` 在小范围内基本均匀，但对大范围或高质量需求场景不适用（需改用 C++11 `<random>` 库）。
- **线程安全**：`rand()` 和 `srand()` 非线程安全（多线程中需额外处理）。

---

#### **7. 总结**
| 函数      | 作用                     | 典型用法               |
|-----------|--------------------------|------------------------|
| `rand()`  | 生成伪随机数             | `int r = rand();`      |
| `srand()` | 设置随机种子（初始化）   | `srand(time(0));`      |

> **关键点**：**必须用 `srand()` 初始化种子**，否则 `rand()` 每次生成相同序列。推荐用 `time(0)` 作为种子实现“真随机”效果。