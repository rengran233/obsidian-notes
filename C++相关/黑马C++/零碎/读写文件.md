文件类型：文本文件、二进制文件
头文件：`#include <fstream>`
创建流对象：`ofstream ofs`
打开文件：`ofs.open("文件路径", 打开方式)`;
写数据：`ofs << "写入数据";`
关闭文件：`ofs.close();`

`#include<sstream> istringstream ostringstream`
`istringstream` 是 C++ 标准库中 `<sstream>` 头文件提供的类，用于将字符串作为输入流处理。它继承自 `istream`，允许像操作标准输入一样从字符串中提取数据。以下是对其功能、用法及注意事项的详细解析：

---

### **一、基本用法**

#### **1. 头文件与初始化**
```cpp
#include <sstream>  // 必需头文件
#include <string>

using namespace std;

int main() {
    string data = "123 45.6 hello";
    istringstream iss(data);  // 用字符串初始化流
    // ...
}
```

#### **2. 数据提取**
```cpp
int a;
double b;
string c;

iss >> a >> b >> c;  // 按顺序提取：a=123, b=45.6, c="hello"
```

- **类型自动转换**：根据目标变量类型自动解析字符串（如整数、浮点数、字符串等）。
- **空格分隔**：默认以空白符（空格、制表符、换行）作为分隔符。

---

### **二、错误处理与状态管理**

#### **1. 检查流状态**
```cpp
if (iss.fail()) {  // 检查是否提取失败（如类型不匹配）
    // 处理错误
}

if (iss.eof()) {   // 检查是否到达流末尾
    // 所有数据已读取
}
```

#### **2. 重置流状态**
```cpp
iss.clear();        // 清除错误标志（如 failbit/eofbit）
iss.str("新内容");  // 重新设置流内容
iss.seekg(0);       // 将读取位置重置到开头
```

---

### **三、高级用法**

#### **1. 按特定分隔符分割字符串**
```cpp
string csv = "apple,banana,cherry";
istringstream iss(csv);
string fruit;

while (getline(iss, fruit, ',')) {  // 按逗号分隔
    cout << fruit << endl;
}
// 输出：apple banana cherry
```

#### **2. 处理十六进制/八进制数**
```cpp
string hex_str = "ff";
istringstream iss(hex_str);
int value;
iss >> hex >> value;  // 按十六进制解析：value=255
```

#### **3. 控制空白符处理**
```cpp
string s = "a b c";
istringstream iss(s);
char c;

iss >> noskipws;       // 禁用自动跳过空白符
while (iss >> c) {
    cout << c;         // 输出：a b c（含空格）
}
```

---

### **四、常见问题与解决方案**

| **问题**                      | **解决方案**                                                                 |
|-------------------------------|-----------------------------------------------------------------------------|
| 数据与类型不匹配导致提取失败   | 检查 `fail()`，清除错误状态后跳过无效输入（如 `iss.ignore()`）               |
| 流位置未重置导致重复读取失败   | 使用 `clear()` 重置错误标志，`seekg(0)` 重置读取位置                         |
| 需要处理非空格分隔符           | 结合 `getline` 指定分隔符（如 `getline(iss, token, ',')`）                   |
| 混合类型数据提取顺序错误       | 确保提取顺序与字符串格式严格匹配                                             |

---

### **五、示例代码**

#### **综合示例：解析复杂字符串**
```cpp
#include <iostream>
#include <sstream>
#include <string>

using namespace std;

int main() {
    string input = "Name:Alice Age:25 Score:95.5";
    istringstream iss(input);
    string name, age_label, score_label;
    int age;
    double score;

    // 按格式提取数据
    iss >> name >> age_label >> age >> score_label >> score;

    // 输出结果
    cout << "Name: " << name.substr(name.find(':')+1) << endl;  // Alice
    cout << "Age: " << age << endl;                             // 25
    cout << "Score: " << score << endl;                         // 95.5

    return 0;
}
```

---

### **六、总结**

- **核心用途**：将字符串作为输入流处理，支持格式化的数据提取。
- **关键操作**：初始化、数据提取、错误检查、状态重置。
- **适用场景**：配置文件解析、日志分析、命令行参数处理等字符串解析任务。

通过合理管理流状态和错误处理，`istringstream` 能够高效灵活地处理复杂的字符串解析需求。

`#include<cstdin> freopen("text.txt", "r", stdin)`