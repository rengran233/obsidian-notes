JS中异步编程有三种方法：回调，`promise`，`async/await`。回调函数描述异步操作完成后要做什么，`promise`要更简洁已读，而`async/await`是`promise`的语法糖，使异步编程的语法更接近同步编程

```js
async function delayedGreeting(name) {
  console.log("A Messenger entered the chat...");
  await new Promise(resolve => setTimeout(resolve, 2000));
  console.log(`Hello, ${name}!`);
}

delayedGreeting("Alice");
console.log("First Printed Message!"); // 将比函数执行结果先打印
```
`await`暂停的是函数，不会影响主线程继续执行

`async`允许用原始的`try...catch`写法做错误处理，`finally`代表无论`try`成功或是失败，都会执行其代码块
```js
const loadTodos = async () => {
    try {
      const data = await fetchTodos();
      setTodos(data);
    } catch (error) {
      console.error('Failed to load todos:', error);
      alert('加载失败，请检查后端服务是否启动');
    } finally {
      setLoading(false);
    }
  };
```
关于`finally`: 避免`try`块中抛出错误后遗漏执行剩余的代码
- **如果没有 `finally`**：当请求失败时，`setLoading(false)` 如果写在 `try` 块里就不会执行，页面会一直显示"加载中..."。
- **使用 `finally`**：确保无论请求成功还是失败，加载状态都会被关闭，用户体验更好。
