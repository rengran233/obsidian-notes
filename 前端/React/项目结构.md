æ„å»ºä¸€ä¸ªä¼˜ç§€çš„å‰ç«¯é¡¹ç›®ç»“æ„ï¼ˆProject Structureï¼‰ï¼Œæ ¸å¿ƒç›®æ ‡åªæœ‰ä¸‰ä¸ªï¼š**å¯ç»´æŠ¤æ€§ï¼ˆMaintainabilityï¼‰**ã€**å¯æ‰©å±•æ€§ï¼ˆScalabilityï¼‰** å’Œ **å›¢é˜Ÿåä½œæ•ˆç‡**ã€‚

éšç€å‰ç«¯é¡¹ç›®å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå•çº¯æŒ‰ç…§æ–‡ä»¶ç±»å‹ï¼ˆæ¯”å¦‚æŠŠæ‰€æœ‰ç»„ä»¶æ”¾ `components`ï¼Œæ‰€æœ‰é€»è¾‘æ”¾ `hooks`ï¼‰åˆ†ç±»çš„â€œä¼ ç»Ÿæ¨¡å¼â€å·²ç»ä¸å¤Ÿç”¨äº†ã€‚

ç›®å‰ä¸šç•Œæœ€æ¨å´‡çš„æ˜¯ **â€œåŠŸèƒ½ç‰¹æ€§ä¼˜å…ˆï¼ˆFeature-First / Domain-Drivenï¼‰â€** çš„æ¶æ„æ¨¡å¼ã€‚

ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ã€èƒ½å¤Ÿæ”¯æ’‘ä¸­å¤§å‹ React/Vue é¡¹ç›®çš„ç›®å½•ç»“æ„è“å›¾ï¼Œä»¥åŠæ¯ä¸ªæ–‡ä»¶å¤¹çš„å…·ä½“èŒè´£ã€‚

---

### 1. æ ‡å‡†ç›®å½•ç»“æ„å›¾ (The Blueprint)

è¿™æ˜¯ç›®å‰ä¸»æµçš„ `src` ç›®å½•ç»“æ„ï¼š

Plaintext

```
src/
â”œâ”€â”€ assets/             # é™æ€èµ„æº (å›¾ç‰‡, SVG, å…¨å±€å­—ä½“)
â”œâ”€â”€ components/         # ã€å…¨å±€é€šç”¨ã€‘UI ç»„ä»¶ (æŒ‰é’®, è¾“å…¥æ¡†, æ¨¡æ€æ¡† - ä¸å«ä¸šåŠ¡é€»è¾‘)
â”œâ”€â”€ config/             # å…¨å±€é…ç½®æ–‡ä»¶ (ç¯å¢ƒå˜é‡æ˜ å°„, å¸¸é‡å®šä¹‰)
â”œâ”€â”€ features/           # ğŸ”¥æ ¸å¿ƒï¼šæŒ‰ä¸šåŠ¡åŠŸèƒ½åˆ’åˆ†çš„æ¨¡å— (User, Auth, Product)
â”œâ”€â”€ hooks/              # ã€å…¨å±€é€šç”¨ã€‘Hooks (useScroll, useWindowSize)
â”œâ”€â”€ layouts/            # é¡µé¢å¸ƒå±€ç»„ä»¶ (Sidebar, Navbar, Footer)
â”œâ”€â”€ lib/                # ç¬¬ä¸‰æ–¹åº“çš„å°è£…/é…ç½® (Axios å®ä¾‹, Firebase é…ç½®)
â”œâ”€â”€ pages/              # è·¯ç”±é¡µé¢å…¥å£ (åªè´Ÿè´£ç»„åˆ featuresï¼Œå°½é‡å°‘å†™é€»è¾‘)
â”œâ”€â”€ routes/             # è·¯ç”±å®šä¹‰ (Router configuration)
â”œâ”€â”€ store/              # å…¨å±€çŠ¶æ€ç®¡ç† (Zustand/Redux - ä»…å­˜æ”¾å…¨å±€å…±äº«çš„æ•°æ®)
â”œâ”€â”€ styles/             # å…¨å±€æ ·å¼ (Reset, Variables, Mixins)
â”œâ”€â”€ types/              # å…¨å±€ TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/              # çº¯å‡½æ•°å·¥å…· (æ—¥æœŸæ ¼å¼åŒ–, æ•°å­—è®¡ç®— - æ— å‰¯ä½œç”¨)
â”œâ”€â”€ App.tsx             # æ ¹ç»„ä»¶
â””â”€â”€ main.tsx            # å…¥å£æ–‡ä»¶
```

---

### 2. æ ¸å¿ƒæ–‡ä»¶å¤¹è¯¦è§£

#### ğŸŸ¢ `features/` (ä¸šåŠ¡æ ¸å¿ƒ)

è¿™æ˜¯ç°ä»£æ¶æ„çš„ç²¾é«“ã€‚ä¸è¦æŠŠå±äºâ€œè´­ç‰©è½¦â€çš„ä»£ç æ‹†æ•£åˆ°å…¨å±€çš„ `components` å’Œ `hooks` é‡Œï¼Œè€Œæ˜¯æŠŠå®ƒä»¬**èšåˆ**åœ¨ä¸€èµ·ã€‚

**åŸåˆ™ï¼š** ä¸€ä¸ªåŠŸèƒ½ç›¸å…³çš„ä»£ç ï¼ˆUIã€çŠ¶æ€ã€APIã€ç±»å‹ï¼‰éƒ½æ”¾åœ¨ä¸€èµ·ã€‚

Plaintext

```
src/features/auth/
â”œâ”€â”€ api/                # åªå±äº Auth çš„ API è¯·æ±‚ (login, logout)
â”œâ”€â”€ components/         # åªå±äº Auth çš„ç»„ä»¶ (LoginForm, RegisterButton)
â”œâ”€â”€ hooks/              # åªå±äº Auth çš„é€»è¾‘ (useAuth, useLogin)
â”œâ”€â”€ store/              # åªå±äº Auth çš„çŠ¶æ€ (useAuthStore)
â”œâ”€â”€ types/              # åªå±äº Auth çš„ç±»å‹
â””â”€â”€ index.ts            # ç»Ÿä¸€å¯¼å‡º (Barrel file)
```

- **å¥½å¤„ï¼š** å½“ä½ è¦åˆ é™¤æˆ–ä¿®æ”¹â€œç™»å½•â€åŠŸèƒ½æ—¶ï¼Œä½ åªéœ€è¦åŠ¨è¿™ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸ç”¨æ»¡ä¸–ç•Œæ‰¾æ–‡ä»¶ã€‚
    

#### ğŸŸ¢ `components/` (å…¨å±€åŸºç¡€ UI)

è¿™é‡Œåªæ”¾**çº¯å±•ç¤ºç»„ä»¶ï¼ˆDumb Componentsï¼‰**ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„â€œåŸºç¡€ç»„ä»¶åº“â€ã€‚

- **åŸåˆ™ï¼š**
    
    - ä¸åŒ…å«ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼ˆä¸çŸ¥é“ä»€ä¹ˆæ˜¯â€œç”¨æˆ·â€ï¼Œä»€ä¹ˆæ˜¯â€œè®¢å•â€ï¼‰ã€‚
        
    - ä¾é  Props ä¼ å…¥æ•°æ®ã€‚
        
    - å¯ä»¥åœ¨ä»»ä½•é¡¹ç›®ä¸­å¤ç”¨ã€‚
        
- **ä¾‹å­ï¼š** `Button`, `Input`, `Card`, `Modal`, `Spinner`.
    

#### ğŸŸ¢ `pages/` (é¡µé¢/è·¯ç”±å…¥å£)

é¡µé¢ç»„ä»¶åº”è¯¥éå¸¸â€œè–„â€ã€‚å®ƒçš„ä¸»è¦èŒè´£æ˜¯**ç»„åˆ**ã€‚

- **åŸåˆ™ï¼š** å®ƒè´Ÿè´£æŠŠ Layoutã€å…¨å±€ UI ç»„ä»¶å’Œ Features é‡Œçš„ä¸šåŠ¡ç»„ä»¶æ‹¼è£…èµ·æ¥ã€‚
    
- **ä¾‹å­ï¼š** `DashboardPage.tsx` å¯èƒ½åªæœ‰å‡ è¡Œä»£ç ï¼š
    
    TypeScript
    
    ```
    return (
      <DashboardLayout>
        <UserProfile /> {/* æ¥è‡ª features/user */}
        <RecentOrders /> {/* æ¥è‡ª features/orders */}
      </DashboardLayout>
    );
    ```
    

#### ğŸŸ¢ `lib/` vs `utils/`

- **`utils/`**: æ”¾çº¯å‡½æ•°ï¼ˆPure Functionsï¼‰ã€‚è¾“å…¥ç›¸åŒï¼Œè¾“å‡ºæ°¸è¿œç›¸åŒï¼Œä¸ä¾èµ–å¤–éƒ¨ç¯å¢ƒã€‚
    
    - _ä¾‹å­ï¼š_ `formatDate`, `currencyToNumber`, `validateEmail`.
        
- **`lib/`**: æ”¾ç¬¬ä¸‰æ–¹åº“çš„åˆå§‹åŒ–å’Œå°è£…ï¼ˆSide Effectsï¼‰ã€‚
    
    - _ä¾‹å­ï¼š_ `axios.ts` (é…ç½®æ‹¦æˆªå™¨), `queryClient.ts` (React Query é…ç½®), `firebase.ts`.
        

#### ğŸŸ¢ `api/` (æˆ–è€… `services/`)

é€šå¸¸æœ‰ä¸¤ç§æ”¾æ³•ï¼š

1. **åˆ†æ•£åœ¨ features ä¸­**ï¼ˆæ¨èï¼‰ï¼š`features/auth/api/login.ts`ã€‚
    
2. **å…¨å±€é›†ä¸­ç®¡ç†**ï¼šå¦‚æœä¸ä½¿ç”¨ features æ¶æ„ï¼Œå¯ä»¥åœ¨ `src/api` ä¸‹æŒ‰æ¨¡å—åˆ†æ–‡ä»¶ã€‚
    

---

### 3. è¿›é˜¶æœ€ä½³å®è·µ (Best Practices)

#### âœ… 1. ä½¿ç”¨è·¯å¾„åˆ«å (Path Aliases)

åœ¨ `tsconfig.json` å’Œ `vite.config.ts` ä¸­é…ç½® `@` æŒ‡å‘ `src`ã€‚

- **Bad:** `import Button from '../../../../components/Button'`
    
- **Good:** `import Button from '@/components/Button'`
    

#### âœ… 2. æ­¤æ—¶æ­¤åœ° (Co-location)

æŠŠç›¸å…³çš„ä¸œè¥¿æ”¾åœ¨ä¸€èµ·ã€‚

å¦‚æœä¸€ä¸ª Helper å‡½æ•°åªè¢« Component A ä½¿ç”¨ï¼Œé‚£å°±æŠŠè¿™ä¸ªå‡½æ•°å®šä¹‰åœ¨ Component A çš„æ–‡ä»¶é‡Œï¼Œæˆ–è€…åœ¨å®ƒæ—è¾¹å»ºä¸€ä¸ª utils.tsï¼Œä¸è¦æ‰”åˆ°å…¨å±€ src/utils é‡Œã€‚

- **åªæœ‰è¢«ä¸¤ä¸ªä»¥ä¸Šæ¨¡å—å¤ç”¨çš„ä¸œè¥¿ï¼Œæ‰å€¼å¾—æå–åˆ°å…¨å±€ã€‚**
    

#### âœ… 3. æ¡¶æ–‡ä»¶ (Barrel Files / index.ts)

åˆ©ç”¨ `index.ts` æ¥æ§åˆ¶å¯¼å‡ºçš„å¯è§æ€§ã€‚

**ç›®å½•ï¼š**

Plaintext

```
src/features/auth/
â”œâ”€â”€ components/LoginForm.tsx
â”œâ”€â”€ hooks/useAuth.ts
â””â”€â”€ index.ts  <-- æ¡¶æ–‡ä»¶
```

**index.ts å†…å®¹ï¼š**

TypeScript

```
// åªå¯¼å‡ºå¤–éƒ¨éœ€è¦ç”¨çš„ä¸œè¥¿ï¼Œéšè—å†…éƒ¨å®ç°ç»†èŠ‚
export * from './hooks/useAuth';
export * from './components/LoginForm';
```

å¤–éƒ¨è°ƒç”¨ï¼š

import { LoginForm } from '@/features/auth'; // å¹²å‡€æ•´æ´

#### âœ… 4. ä¾èµ–æµå‘åŸåˆ™ (Dependency Rule)

è¿™æ˜¯ä¸€ä¸ªé˜²æ­¢æ¶æ„è…çƒ‚çš„é“å¾‹ï¼š

- **Pages** å¯ä»¥å¼•ç”¨ **Features** å’Œ **Components**ã€‚
    
- **Features** å¯ä»¥å¼•ç”¨ **Components** å’Œ **Hooks**ã€‚
    
- **Features** ä¹‹é—´å°½é‡**ä¸è¦**äº’ç›¸å¼•ç”¨ï¼ˆå¦‚æœå¿…é¡»ï¼Œè€ƒè™‘æŠŠå…±äº«é€»è¾‘æå‡åˆ°å…¨å±€ `src/hooks` æˆ– `src/store`ï¼‰ã€‚
    
- **Components** (UI) **ç»ä¸èƒ½** å¼•ç”¨ **Pages** æˆ– **Features**ï¼ˆåŸºç¡€ç»„ä»¶ä¸èƒ½ä¾èµ–ä¸šåŠ¡ï¼‰ã€‚
    

---

### 4. æ€»ç»“ï¼šä»å°åˆ°å¤§çš„æ¼”å˜

- å°å‹é¡¹ç›® (Demo/MVP):
    
    æ‰å¹³åŒ–ç»“æ„ã€‚æ‰€æœ‰ç»„ä»¶æ”¾ src/componentsï¼Œæ‰€æœ‰é¡µé¢æ”¾ src/pagesï¼Œä¸åˆ† featuresã€‚
    
- ä¸­å‹é¡¹ç›®:
    
    å¼•å…¥ src/featuresã€‚å¼€å§‹æŠŠä¸šåŠ¡é€»è¾‘ä»é¡µé¢ä¸­å‰¥ç¦»ã€‚
    
- å¤§å‹é¡¹ç›® (Monorepo):
    
    ä½¿ç”¨ Nx æˆ– TurboRepoã€‚å°† features é‡Œçš„æ¯ä¸ªæ¨¡å—ç”šè‡³æ‹†åˆ†æˆç‹¬ç«‹çš„ npm åŒ…ï¼ˆpackagesï¼‰ï¼Œç”±ä¸åŒçš„å›¢é˜Ÿç»´æŠ¤ã€‚
    

ç»™ä½ çš„å»ºè®®ï¼š

é’ˆå¯¹ä½ çš„è®­ç»ƒè¥ä½œä¸šæˆ–ä¸ªäººé¡¹ç›®ï¼Œç›´æ¥é‡‡ç”¨ Feature-based ç»“æ„ã€‚è¿™ä¼šè®©ä½ åœ¨é¢è¯•æ—¶æ˜¾å¾—éå¸¸æœ‰å·¥ç¨‹åŒ–æ€ç»´ï¼Œå› ä¸ºè¿™æ­£æ˜¯å¤§å‚å¤„ç†å¤æ‚é¡¹ç›®çš„æ–¹å¼ã€‚