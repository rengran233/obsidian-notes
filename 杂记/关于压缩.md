## **表格一：常见压缩/归档格式特点对比**

| 特点       | **ZIP 格式 (.zip)**               | **7z 格式 (.7z)**      | **WIM 格式 (.wim)**               | **TAR 格式 (.tar)**               |
| -------- | ------------------------------- | -------------------- | ------------------------------- | ------------------------------- |
| **类型**   | 归档 + 压缩（一体）                     | 归档 + 压缩（一体）          | 操作系统映像格式                        | 仅归档（打包），不压缩                     |
| **主要算法** | Deflate (Deflate64)             | LZMA/LZMA2           | MSLZ, LZX (微软专有，基于LZ77/LZ78的变体) | 无（仅打包）                          |
| **压缩效率** | 中等                              | **极高** (通常优于ZIP)     | 高 (尤其是单实例存储)                    | 无压缩，文件大小不变                      |
| **压缩速度** | 较快                              | **较慢** (尤其高压缩比时)     | 较慢                              | 极快 (仅打包)                        |
| **解压速度** | 较快                              | 中等偏慢                 | 较快                              | 极快 (仅解包)                        |
| **兼容性**  | **极高** (系统原生支持，通用性最强)           | 中等 (需第三方软件如7-Zip)    | 仅限Windows环境，需专用工具(DISM)         | Unix/Linux常用，Windows需第三方软件处理    |
| **加密强度** | ZipCrypto (弱)，AES (强，但非所有实现都支持) | **AES-256** (强大，常用)  | 一般不用于通用文件加密，有部署安全机制             | 无内置加密，需外部加密                     |
| **固实压缩** | 某些实现支持                          | **支持**               | **支持 (单实例存储)**                  | 不支持                             |
| **自解压**  | 通常不支持内置创建                       | **支持** (易于创建)        | 不支持（本身是映像）                      | 不支持                             |
| **内存消耗** | 较低                              | **较高** (尤其高压缩比时)     | 较高                              | 较低                              |
| **典型用途** | 日常文件传输、邮件附件、通用归档                | 大文件归档、软件分发、高安全需求     | Windows系统部署、备份与恢复、WinPE         | Unix/Linux文件打包、与Gzip/Bzip2/XZ组合 |
| **特点备注** | 最普及，通用性强，均衡                     | 压缩比最高，功能强大，适合追求极致小体积 | 面向OS部署优化，文件级映像，单实例存储            | 仅打包，常与外部压缩工具结合形成.tar.gz等        |

---

## **表格二：常见无损压缩算法特点对比**

|压缩算法|**主要特点**|**压缩率 (大致)**|**压缩速度 (大致)**|**解压速度 (大致)**|**多线程支持**|**内存消耗**|**典型应用/格式**|
|---|---|---|---|---|---|---|---|
|**Deflate**|结合LZ77和霍夫曼编码|中等|较快|较快|有限|较低|ZIP (核心算法), PNG|
|**Deflate64**|Deflate的增强版，使用更大字典|中高|中等|中等|有限|中等|ZIP (可选算法)|
|**BZip2**|基于BWT和MTF编码|高|慢|慢|有限|中等|`.bz2`, `.tar.bz2`|
|**LZMA**|字典匹配和范围编码|**极高**|**较慢**|中等偏慢|较差 (单线程)|较高|`.7z` (旧版或特定设置)|
|**LZMA2**|LZMA的改进版，支持多线程和高效处理不可压缩数据|极高 (通常与LZMA相当)|**更快** (多核CPU上)|较快|**强大**|较高|`.7z` (默认), `.xz`|
|**PPMd**|基于上下文建模和预测，对文本数据效果极佳|**文本数据极高**|慢|慢|较差|较高|`.7z` (特定文本)|

---

## **其他知识点笔记**

### **1. 压缩等级 (Compression Level)**

- **定义：** 压缩软件中用于控制压缩强度的一个设置。通常从“最快”（或“存储”）到“极限压缩”（或“最好”）。
    
- **影响：**
    
    - **等级越高：** 压缩后的文件越小，但压缩所需时间越长，CPU/内存消耗越大。
        
    - **等级越低：** 压缩后的文件越大，但压缩速度越快，资源消耗越少。
        
- **选择：** 根据对文件大小、压缩速度和可用计算资源的权衡来选择。
    

### **2. 字典大小 (Dictionary Size)**

- **定义：** 压缩算法（尤其是基于字典的算法，如LZMA, Deflate）在查找和替换重复数据模式时所参考的“历史窗口”大小。
    
- **影响：**
    
    - **字典越大：** 算法能识别更长、更远的重复模式，通常能实现更高的压缩率，但压缩和解压所需的内存也会相应增加，并且压缩速度可能变慢。
        
    - **字典越小：** 压缩速度快，内存消耗低，但压缩率可能受限。
        
- **选择：** 对于大型文件且追求高压缩率时，通常会选择更大的字典。
    

### **3. 固实压缩 (Solid Compression)**

- **定义：** 一种特殊的压缩模式，将压缩包内的所有文件和目录视为一个**连续的单一数据流**进行整体压缩，而不是分别压缩每个文件。
    
- **优点：**
    
    - **更高的压缩率：** 尤其是在压缩大量相似的小文件时，固实压缩能更好地利用文件间的重复模式，获得比非固实压缩更高的压缩率。
        
- **缺点：**
    
    - **解压效率低：** 如果你需要解压固实压缩包中的单个文件，压缩软件可能需要从头开始解压大部分数据才能找到并提取目标文件，导致解压速度变慢。
        
    - **完整性风险：** 如果固实压缩包的任何一部分数据损坏，可能会导致整个压缩包无法解压，或解压后大部分文件损坏。而非固实压缩通常只会影响损坏的文件本身。
        
- **典型应用：** 适用于文件不经常被单独提取，且追求极致压缩率的归档场景（如软件安装包、大型备份）。
    

### **4. 分卷压缩 (Volume Splitting)**

- **定义：** 将一个大型压缩文件分割成多个较小的、独立的压缩文件卷。
    
- **目的：**
    
    - **突破介质容量限制：** 适应U盘、邮箱附件等有大小限制的存储或传输方式。
        
    - **便于传输和恢复：** 传输中断时可续传部分卷，小文件传输成功率高。
        
- **特点：**
    
    - **对压缩率无直接影响：** 分卷是切割行为，不改变内部数据的压缩效率。
        
    - **依赖所有分卷：** 必须收集所有分卷才能完整解压原始文件。
        
- **应用：** 分发大型软件、游戏、高清晰度影音文件等。
    

### **5. 自解压文件 (Self-Extracting Archive - SFX)**

- **定义：** 一种特殊的压缩文件，内置了小的解压程序（通常是`.exe`可执行文件），使得用户无需安装压缩软件即可直接运行并解压内容。
    
- **优点：** 极大提升用户便利性。
    
- **缺点：** 文件体积略微增大；可能存在安全风险（因为是可执行文件，易被恶意软件利用）。
    
- **应用：** 软件安装包分发、补丁、驱动等。
    

### **6. 加密 (Encryption)**

- **定义：** 对压缩包内的文件内容进行加密处理，保护数据不被未授权访问。
    
- **加密算法：** 常见的有 ZipCrypto (较弱，用于旧版ZIP)、AES-256 (强大，用于新版ZIP和7z)。
    
- **加密文件名：** 某些格式（如7z）允许加密文件名，使得在不知道密码的情况下，连压缩包内包含哪些文件都无法查看，进一步增强隐私。
    
- **影响：** 会使压缩包大小略微增加。
    

### **7. 更新方式 (Update Mode)**

- **定义：** 当目标压缩包已经存在，并且要添加的文件与其中现有文件同名时，压缩软件的处理方式。
    
- **常见选项：**
    
    - **添加并替换文件：** 新文件替换旧文件。
        
    - **添加新文件：** 只添加压缩包中不存在的文件。
        
    - **刷新已存在的文件：** 只替换压缩包中存在的、且源文件比压缩包中对应文件更新的文件。
        
    - **同步压缩包内容：** 最复杂的模式，会删除压缩包中源文件夹已不存在的文件，并更新已存在的文件，使压缩包内容与源文件夹完全一致。
        
- **作用：** 灵活管理和维护现有压缩包。
    

### **8. 路径模式 (Path Mode)**

- **定义：** 决定压缩包内部文件和文件夹路径的存储方式。
    
- **常见选项：**
    
    - **相对路径：** 压缩包内只记录相对于压缩源的路径（推荐，更灵活）。
        
    - **绝对路径：** 压缩包内记录完整的原始路径（可能导致解压时路径过长或不兼容）。
        
    - **无路径：** 只包含文件本身，不包含任何目录结构。
        
- **作用：** 影响解压时文件在目标位置的组织方式。
    

希望这些详细的整理和补充笔记能够帮助您全面理解这些概念！