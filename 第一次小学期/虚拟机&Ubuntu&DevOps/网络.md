## NAT和桥接网卡
*   **NAT (网络地址转换)**：**虚拟机能上网，但你的电脑访问不了虚拟机**。它就像你家里路由器后面的电脑，外网的人无法直接找到你。
*   **桥接 (Bridged)**：**虚拟机能上网，你的电脑也能访问虚拟机**。它就像你家里的另一台真实电脑，和你的电脑是平级的兄弟关系。

下面我们详细分析一下这两种模式的好处和坏处，以及为什么我强烈推荐你使用**桥接模式**。

---

### NAT 模式 (VirtualBox 默认)



*   **工作原理**: VirtualBox 会创建一个虚拟的路由器和独立的内部网络。你的虚拟机连接到这个虚拟路由器上，然后通过你的物理电脑（宿主机）共享的网络连接来访问外网。
*   **IP 地址**: 虚拟机通常会获得一个 `10.0.2.15` 这样的内部 IP 地址，这个地址在你的局域网里是看不到的。

#### 好处:

1.  **安全隔离**: 因为虚拟机隐藏在你的电脑后面，外部网络（包括你局域网里的其他设备）无法直接访问到它。这在一些需要高度隔离的安全测试场景中很有用。
2.  **简单方便**: 这是默认设置，不需要任何配置，只要你的电脑能上网，虚拟机就能上网。在咖啡馆、机场等不同网络环境下，你不需要做任何更改。

#### 坏处 (对我们的 DevOps 场景是致命的):

1.  **单向访问**: 你的物理电脑无法通过 IP 地址直接访问虚拟机里运行的服务。
    *   **场景举例**: 当你在虚拟机里成功安装并运行了 GitLab，它的网址可能是 `http://10.0.2.15`。但当你在**物理电脑的浏览器**里输入这个地址时，会显示“无法访问此网站”。
    *   **后果**: 你将无法在自己熟悉的 Windows 环境下，通过浏览器去使用 GitLab、访问 Jenkins 的 Web 界面。
2.  **配置复杂**: 虽然可以通过“端口转发 (Port Forwarding)”来解决上述问题，但这非常繁琐。你需要为你用到的每一个服务（比如 GitLab 的 80 端口，Jenkins 的 8080 端口，SSH 的 22 端口）都手动设置一条转发规则。这会增加很多不必要的麻烦和出错点。

---

### 桥接模式 (Bridged Adapter)



*   **工作原理**: VirtualBox 会把虚拟机的虚拟网卡“桥接”到你的物理网卡上。对于你的家庭/公司路由器来说，它会认为网络中新加入了一台真实的设备。
*   **IP 地址**: 路由器会分配一个和你的物理电脑在同一个网段的 IP 地址给虚拟机。
    *   例如：如果你的电脑 IP 是 `192.168.1.100`，那么虚拟机可能会获得 `192.168.1.101`。

#### 好处 (完美契合我们的需求):

1.  **双向访问**: 虚拟机就像局域网里的一台独立电脑。你的物理电脑可以直接通过虚拟机的 IP 地址 (`192.168.1.101`) 访问它上面运行的所有服务。
    *   **场景举例**: 在虚拟机里安装好 GitLab 后，你只需要在 Ubuntu 终端里用 `ip a` 命令查到它的 IP 地址，然后在你**物理电脑的浏览器**里输入这个地址，就能直接看到 GitLab 的登录页面了。非常直观！
2.  **网络透明**: 所有网络行为都和真实计算机一样，便于理解和排错。局域网里的其他设备（比如你的手机）也能访问这台虚拟机。

#### 坏处:

1.  **占用 IP 地址**: 它会占用你局域网里的一个宝贵 IP 地址。不过对于家庭和大多数公司网络来说，这完全不是问题。
2.  **网络环境依赖**: 如果你把笔记本电脑带到另一个网络环境（比如从家里到公司），虚拟机的 IP 地址可能会改变，你需要重新查看一下它的新 IP。
3.  **安全性略低**: 因为虚拟机直接暴露在局域网中，理论上局域网里的其他设备都可以尝试访问它。但在受信任的家庭或公司网络中，这基本不是问题。

---

### 结论

对于我们**搭建 DevOps 工具链**这个目标来说：

*   **你需要频繁地从你的物理机浏览器访问虚拟机里运行的 GitLab 和 Jenkins Web 界面。**
*   **你需要用 SSH 工具从物理机连接到虚拟机进行命令行操作。**

因此，**桥接模式 (Bridged Adapter) 是最佳选择**。它能极大地简化你的操作，让你专注于学习 DevOps 工具本身，而不是在复杂的网络配置上浪费时间。

现在就去**设置 -> 网络 -> 连接方式**，把它改成**桥接网卡**吧！这对你接下来的每一步都有好处。

## 有趣的ipconfig解析
当然可以！理解 `ipconfig` 的输出是掌握网络基础的第一步。我们来把这些信息像读故事一样，逐行、逐段地解释清楚。

把它想象成你家里的地址簿，每一段都描述了一个“信使”（网络适配器）以及它能去的地方。

---

### **逐段解读你的 `ipconfig` 输出**

#### **第一段: `以太网适配器 以太网 3`**

```
以太网适配器 以太网 3:

   连接特定的 DNS 后缀 . . . . . . . :
   本地链接 IPv6 地址. . . . . . . . : fe80::3e2b:fd3c:6ad4:20df%46
   IPv4 地址 . . . . . . . . . . . . : 192.168.56.1
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   默认网关. . . . . . . . . . . . . :
```

*   **`以太网适配器 以太网 3`**: 这是这个网络接口的名字。可以理解为这是“3号信使”。
*   **`本地链接 IPv6 地址`**: 这是 IPv6 时代的一个“门牌号”，它只在你的**本地网络内部**有效，不能用来上外网。`fe80::` 开头的都是这种地址，你可以暂时忽略它。
*   **`IPv4 地址: 192.168.56.1`**: 这才是关键！这是它在 IPv4 网络里的“门牌号”。这个地址 (`192.168.x.x`) 通常用于**私有网络**。
*   **`子网掩码: 255.255.255.0`**: 这用来定义“社区”的大小。这个掩码意味着，所有 `192.168.56.x` (从 1 到 254) 的设备都属于同一个“社区”，它们之间可以直接通信，不需要通过路由器。
*   **`默认网关: (空白)`**: **这是最重要的线索！** “默认网关”就是你这个社区的“大门口”，所有要去外网（互联网）的信件都必须经过这里。这里是**空白**，意味着这个“3号信使”是个“宅男”，它**不知道怎么走出这个社区**，所以它**不能访问互联网**。
    *   **推论:** 这几乎可以 100% 确定是 VirtualBox 的 "Host-Only" 虚拟网卡，它只负责让你的主机和虚拟机之间通信，不负责上网。

---

#### **第二段: `无线局域网适配器 WLAN` (最重要的部分)**

```
无线局域网适配器 WLAN:

   连接特定的 DNS 后缀 . . . . . . . :
   IPv6 地址 . . . . . . . . . . . . : 2001:250:4001:5012:13c1:c86:74d9:b531
   ... (其他IPv6地址)
   本地链接 IPv6 地址. . . . . . . . : fe80::2fe1:f10c:3143:8298%16
   IPv4 地址 . . . . . . . . . . . . : 10.128.134.212
   子网掩码  . . . . . . . . . . . . : 255.255.128.0
   默认网关. . . . . . . . . . . . . : fe80::5a69:6cff:fe91:91a%16
                                       10.128.255.254
```

*   **`无线局域网适配器 WLAN`**: 这是你的无线网卡，是你主要的“信使”。
*   **`IPv6 地址`**: `2001:` 开头的地址是全球唯一的公网 IPv6 地址。这说明你所在的网络（可能是校园网或大型企业网）已经支持先进的 IPv6 了。
*   **`IPv4 地址: 10.128.134.212`**: 这是它在 IPv4 网络里的“门牌号”。`10.x.x.x` 开头的地址也是私有地址，说明你可能在一个大型局域网内部。
*   **`子网掩码: 255.255.128.0`**: 这个子网掩码比较特殊，它定义了一个非常大的“社区”。
*   **`默认网关: 10.128.255.254`**: **找到了！** 这就是这个“社区”通往互联网的“大门口”地址。所有发往外网的数据包，都会被送到 `10.128.255.254` 这个地址（通常是路由器或交换机）。**因为这里有默认网关，所以这块网卡是你的主力上网设备。**

---

#### **第三段: `以太网适配器 以太网 2`**

```
以太网适配器 以太网 2:

   连接特定的 DNS 后缀 . . . . . . . :
   IPv4 地址 . . . . . . . . . . . . : 172.16.0.117
   子网掩码  . . . . . . . . . . . . : 255.255.255.255
   默认网关. . . . . . . . . . . . . : 172.0.0.1
```

*   **`IPv4 地址: 172.16.0.117`**: `172.16.x.x` 到 `172.31.x.x` 也是私有地址段。
*   **`子网掩码: 255.255.255.255`**: 这是一个非常特殊的子网掩码，它表示这个“社区”里只有它自己一个人。这通常用于点对点连接，比如某些 VPN 客户端会创建这样的虚拟接口。
*   **`默认网关`**: 虽然它有一个默认网关，但结合那个特殊的子网掩码，可以判断它是一个特定用途的虚拟接口，不是你主要的上网通道。

---

#### **其他部分**

*   **`无线局域网适配器 本地连接* 1`** & **`* 2`**: 名字里带星号的通常是微软系统自己创建的一些虚拟接口，状态是“媒体已断开连接”，表示没在用，可以忽略。
*   **`以太网适配器 蓝牙网络连接`**: 用来通过蓝牙共享网络，现在也是“媒体已断开连接”状态，可以忽略。

### **总结**

通过解读 `ipconfig`，我们就像侦探一样，一步步排除了所有干扰项，最终锁定了真正的“罪犯”...啊不，是真正的**上网网卡**——**`无线局域网适配器 WLAN`**。

这就是为什么我们必须在 VirtualBox 的桥接设置里，把虚拟机“挂”在这块网卡上，这样虚拟机才能和你的主机一样，从同一个路由器（`10.128.255.254`）那里拿到上网的“门票”（IP地址），从而融入同一个网络大家庭。